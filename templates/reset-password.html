{% extends "base.html" %}

{% block content %}
<style>
    body {
        background-image: linear-gradient(#fff, #eedcff);
        background-attachment: fixed;
    }
</style>
<section id="reset-password">
    <div class="container text-center p-5" style="max-width: 600px;">
        <img src="../static/images/reset-password.svg" alt="Reset password icon" style="height: 200px;">
        
        <form action="/reset-password/submit" method="POST" class="row g-3 mt-3">
            <input id="password" class="form-control-lg" type="password" placeholder="New password" required name="password" maxlength="32" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain 8 or more characters, including a number and an uppercase and lowercase letter." autofocus>
            <input id="confirm-password" class="form-control-lg" type="password" placeholder="Repeat password" required name="password_repeat" maxlength="32">
            <script>
                var password = document.getElementById("password"),
                    confirm_password = document.getElementById("confirm-password");

                function validatePassword(){
                if(password.value != confirm_password.value) {
                    confirm_password.setCustomValidity("Passwords don't match");
                } else {
                    confirm_password.setCustomValidity('');
                }
                }

                password.onchange = validatePassword;
                confirm_password.onkeyup = validatePassword;                
            </script>
            <br>
            <button class="btn btn-primary btn-lg" style="background-color: #330066;" type="submit">Confirm</button>
        </form>
    </div>
</section>
{% endblock %}